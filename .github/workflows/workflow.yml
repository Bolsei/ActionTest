name: Two-Job Output Example (Modern)

on:
  workflow_dispatch:

jobs:
  generate-outputs:
    runs-on: ubuntu-latest
    outputs:
      FOO: ${{ steps.extract.outputs.FOO }}
      BAR: ${{ steps.extract.outputs.BAR }}
      ARTIFACT_ID: ${{ steps.extract.outputs.ARTIFACT_ID }}
      VERSION: ${{ steps.extract.outputs.VERSION }}
      GROUP_PATH: ${{ steps.extract.outputs.GROUP_PATH }}
    steps:
      - name: set vars
        run: |
          GROUP_ID=still
          ARTIFACT_ID=action
          VERSION=1.0.0
          GROUP_PATH=${GROUP_ID//./\/}
          echo "GROUP_ID=$GROUP_ID" >> $GITHUB_ENV
          echo "ARTIFACT_ID=$ARTIFACT_ID" >> $GITHUB_ENV
          echo "VERSION=$VERSION" >> $GITHUB_ENV
          echo "GROUP_PATH=$GROUP_PATH" >> $GITHUB_ENV
          echo "ARTIFACT_ID=$ARTIFACT_ID" >> $GITHUB_OUTPUT
          echo "VERSION=$VERSION" >> $GITHUB_OUTPUT
          echo "GROUP_PATH=$GROUP_PATH" >> $GITHUB_OUTPUT
          echo "FOO=HelloWorld" >> "$GITHUB_OUTPUT"
          echo "BAR=42" >> "$GITHUB_OUTPUT"

  use-outputs:
    runs-on: ubuntu-latest
    needs: generate-outputs
    steps:
      - name: Show outputs
        run: |
          echo "FOO from previous job: ${{ needs.generate-outputs.outputs.FOO }}"
          echo "BAR from previous job: ${{ needs.generate-outputs.outputs.BAR }}"
          echo "ARTIFACT_ID from previous job: ${{ needs.generate-outputs.outputs.ARTIFACT_ID }}"
          echo "VERSION from previous job: ${{ needs.generate-outputs.outputs.VERSION }}"
          echo "GROUP_PATH from previous job: ${{ needs.generate-outputs.outputs.GROUP_PATH }}"
